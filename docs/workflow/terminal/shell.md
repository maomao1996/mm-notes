---
description: 'ä¸€äº›å¸¸ç”¨ shell å‘½ä»¤çš„å­¦ä¹ ç¬”è®°'
---

# Shell å‘½ä»¤

> ä¸€äº›è‡ªå·±å¸¸ç”¨ `shell` å‘½ä»¤çš„å­¦ä¹ ç¬”è®°

## `echo` è¾“å‡º

ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡º

```sh
# è¾“å‡ºæ™®é€šå­—ç¬¦
echo "hello world"

# ä½¿ç”¨ -e å¼€å¯è½¬ä¹‰
echo -e "è¿™æ˜¯ç¬¬ä¸€è¡Œæ–‡æœ¬\nè¿™æ˜¯ç¬¬äºŒè¡Œæ–‡æœ¬"

# ä½¿ç”¨ -n ä¸æ¢è¡Œè¾“å‡º
echo -n "hello world"

# è¾“å‡ºå˜é‡ï¼ˆæŸ¥çœ‹å½“å‰çª—å£ä½¿ç”¨çš„ shellï¼‰
echo $SHELL

# è¾“å‡ºå‘½ä»¤æ‰§è¡Œç»“æœ
echo `date`

# å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ä¸­
echo 'hello world' > test.txt

# å°†ç»“æœè¿½åŠ åˆ°æ–‡ä»¶ä¸­
echo 'hello world' >> test.txt
```

::: tip echo > å’Œ echo >> çš„åŒºåˆ«

- å½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶éƒ½ä¼šåˆ›å»ºæ–‡ä»¶
- å½“æ–‡ä»¶å­˜åœ¨æ—¶
  - **`echo >`** ä¼š**è¦†ç›–**æ–‡ä»¶ä¸­çš„åŸæœ‰å†…å®¹
  - **`echo >>`** ä¼šå°†ç»“æœ**è¿½åŠ **åˆ°æ–‡ä»¶ä¸­

:::

### ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æ ·å¼

`ANSI` è½¬ä¹‰åºåˆ—æ˜¯ä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦ï¼Œå®ƒä»¬å¯ä»¥ç”¨äºä¿®æ”¹æ–‡æœ¬çš„é¢œè‰²ã€æ ¼å¼å’Œå…¶ä»–å¤–è§‚å±æ€§ã€‚

```sh
# è¯­æ³•æ ¼å¼
echo -e "\033[èƒŒæ™¯é¢œè‰²;å­—ä½“é¢œè‰²;æ˜¾ç¤ºæ–¹å¼m éœ€è¦è¾“å‡ºçš„å†…å®¹ \033[0m"

# ğŸŒ° ç™½åº•é»‘å­—
echo -e "\033[47;30m ç™½åº•é»‘å­— \033[0m"
# ğŸŒ° é»‘åº•ç™½å­— é«˜äº®æ˜¾ç¤º
echo -e "\033[30;37;1m é»‘åº•ç™½å­— é«˜äº®æ˜¾ç¤º \033[0m"
# ğŸŒ° é»‘åº•ç™½å­—å¸¦ä¸‹åˆ’çº¿
echo -e "\033[30;37;4m é»‘åº•ç™½å­—å¸¦ä¸‹åˆ’çº¿ \033[0m"
```

- `\033` è½¬ä¹‰èµ·å§‹ç¬¦ï¼Œå®šä¹‰ä¸€ä¸ªè½¬ä¹‰åºåˆ—ï¼Œï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨ `\e` æˆ– `\E` ä»£æ›¿ï¼‰
- `[` è¡¨ç¤ºå¼€å§‹å®šä¹‰é¢œè‰²
- èƒŒæ™¯é¢œè‰² èŒƒå›´ `40-47`
- å­—ä½“é¢œè‰² èŒƒå›´ `30-37`
- `m` è½¬ä¹‰ç»ˆæ­¢ç¬¦ï¼Œè¡¨ç¤ºé¢œè‰²å®šä¹‰å®Œæ¯•
- `\033[0m` è¡¨ç¤ºå…³é—­æ‰€æœ‰å±æ€§æ¢å¤é»˜è®¤æ ·å¼

#### èƒŒæ™¯è‰²å’Œå­—ä½“é¢œè‰²

> èƒŒæ™¯è‰²èŒƒå›´ï¼š 40 - 47
>
> å­—ä½“é¢œè‰²èŒƒå›´ï¼š 30 - 37

|      | èƒŒæ™¯è‰² | å­—ä½“é¢œè‰² |
| ---- | ------ | -------- |
| é»‘è‰² | 40     | 30       |
| çº¢è‰² | 41     | 31       |
| ç»¿è‰² | 42     | 32       |
| é»„è‰² | 43     | 33       |
| è“è‰² | 44     | 34       |
| ç´«è‰² | 45     | 35       |
| æ·±ç»¿ | 46     | 36       |
| ç™½è‰² | 47     | 37       |

#### æ˜¾ç¤ºæ–¹å¼

- `0` å…³é—­æ‰€æœ‰å±æ€§
- `1` è®¾ç½®é«˜äº®æ˜¾ç¤º
- `4` è®¾ç½®ä¸‹åˆ’çº¿
- `5` é—ªçƒ
- `7` åæ˜¾
- `8` ä¸å¯è§

#### å…¶ä»–å±æ€§

- `\033[nA` å…‰æ ‡ä¸Šç§» n è¡Œ
- `\033[nB` å…‰æ ‡ä¸‹ç§» n è¡Œ
- `\033[nC` å…‰æ ‡å³ç§» n åˆ—
- `\033[nD` å…‰æ ‡å·¦ç§» n åˆ—
- `\033[x;yH` è®¾ç½®å…‰æ ‡ä½ç½® x è¡Œ y åˆ—
- `\033[2J` æ¸…å±
- `\033[K` æ¸…é™¤ä»å…‰æ ‡åˆ°è¡Œå°¾çš„å†…å®¹
- `\033[s` ä¿å­˜å…‰æ ‡ä½ç½®
- `\033[u` æ¢å¤å…‰æ ‡ä½ç½®
- `\033[?25l` éšè—å…‰æ ‡
- `\033[?25h` æ˜¾ç¤ºå…‰æ ‡

## `cp` å¤åˆ¶

ç”¨äºå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•

> è¯­æ³•æ ¼å¼

- `cp [options] source_file target_file`
- `cp [options] source_file ... target_directory`

```sh
# å¤åˆ¶å•ä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•
cp test.txt ./test

# å¤åˆ¶å•ä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å
cp test.txt ./test/test1.txt

# å¤åˆ¶å¤šä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•
cp test1.txt test2.txt ./test

# å¤åˆ¶ç›®å½•åˆ°æŒ‡å®šç›®å½•
cp -r ./test ./test1

# å¤åˆ¶ç›®å½•åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å
cp -r ./test ./test1/test2
```

::: warning
å¤åˆ¶ç›®å½•æ—¶å¿…é¡»ä½¿ç”¨ `-r` å‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™
:::

**å¸¸ç”¨å‚æ•°è¯´æ˜**ï¼š

- `-r` é€’å½’å¤åˆ¶ç›®å½•
- `-i` è¦†ç›–å‰æç¤º
- `-f` å¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶
- `-p` ä¿ç•™æ–‡ä»¶çš„å±æ€§ï¼ˆæƒé™ã€æ—¶é—´æˆ³ç­‰ï¼‰
- `-a` é€’å½’å¤åˆ¶ç›®å½•ï¼Œå¹¶ä¿ç•™æ–‡ä»¶å±æ€§ï¼ˆç›¸å½“äºåŒæ—¶ä½¿ç”¨ `-p` å’Œ `-r`ï¼‰
- `-v` æ˜¾ç¤ºè¯¦ç»†çš„å¤åˆ¶è¿‡ç¨‹

## `mv` ç§»åŠ¨

ç”¨äºç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•

> è¯­æ³•æ ¼å¼

- `mv [options] source target`
- `mv [options] source... directory`

```sh
# ç§»åŠ¨å•ä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•
mv test.txt ./test

# ç§»åŠ¨å•ä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•å¹¶é‡å‘½å
mv test.txt ./test/test1.txt

# ç§»åŠ¨å¤šä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•
mv test1.txt test2.txt ./test

# ç§»åŠ¨ç›®å½•åˆ°æŒ‡å®šç›®å½•
mv ./test ./test1
```

::: tip

- å½“ `source` ä¸ºæ–‡ä»¶æ—¶ï¼Œ`target` å¯ä»¥ä¸ºæ–‡ä»¶æˆ–ç›®å½•
- å½“ `source` ä¸ºç›®å½•æ—¶ï¼Œ`target` å¿…é¡»ä¸ºç›®å½•
- å½“ `target` ä¸ºç›®å½•æ—¶ï¼Œ`source` ä¼šè¢«ç§»åŠ¨åˆ° `target` ç›®å½•ä¸‹
- å½“ `target` å·²å­˜åœ¨æ—¶ï¼Œ`source` ä¼šè¦†ç›– `target` æ–‡ä»¶æˆ–ç›®å½•
- å½“ `target` ä¸å­˜åœ¨æ—¶ï¼Œ`source` ä¼šè¢«é‡å‘½åä¸º `target` æ–‡ä»¶æˆ–ç›®å½•

:::

**å¸¸ç”¨å‚æ•°è¯´æ˜**ï¼š

- `-f` å¼ºåˆ¶ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•
- `-i` è¦†ç›–å‰æç¤º
- `-n` ä¸è¦†ç›–å·²å­˜åœ¨çš„æ–‡ä»¶
- `-v` æ˜¾ç¤ºè¯¦ç»†çš„ç§»åŠ¨è¿‡ç¨‹
