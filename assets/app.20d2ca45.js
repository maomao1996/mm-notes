import{y as me,O as ue,d as x,M as pe,f as L,o as f,g as y,j as z,_ as X,u as G,K as $e,c as A,a0 as Ne,a1 as Ie,m as T,t as j,w as oe,e as U,J as D,b as V,F as q,W as Pe,a as K,a2 as De,a3 as Ve,D as je,n as de,r as Be,G as Fe,L as Re,a4 as fe,v as ne,a5 as We,a6 as Ze,a7 as Ue,a8 as Ye,a9 as qe,aa as Ke,ab as Xe,ac as Ge,ad as Je,ae as Qe,U as et,l as tt,z as ot,af as nt,ag as at,ah as rt}from"./chunks/framework.4c5231b1.js";import{u as it,_ as st,a as dt,t as ge}from"./chunks/theme.055417b3.js";/*! medium-zoom 1.0.8 | MIT License | https://github.com/francoischalifour/medium-zoom */var S=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},Z=function(e){return e.tagName==="IMG"},ct=function(e){return NodeList.prototype.isPrototypeOf(e)},Y=function(e){return e&&e.nodeType===1},ce=function(e){var o=e.currentSrc||e.src;return o.substr(-4).toLowerCase()===".svg"},le=function(e){try{return Array.isArray(e)?e.filter(Z):ct(e)?[].slice.call(e).filter(Z):Y(e)?[e].filter(Z):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(Z):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},lt=function(e){var o=document.createElement("div");return o.classList.add("medium-zoom-overlay"),o.style.background=e,o},mt=function(e){var o=e.getBoundingClientRect(),r=o.top,s=o.left,g=o.width,_=o.height,c=e.cloneNode(),I=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,C=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return c.removeAttribute("id"),c.style.position="absolute",c.style.top=r+I+"px",c.style.left=s+C+"px",c.style.width=g+"px",c.style.height=_+"px",c.style.transform="",c},$=function(e,o){var r=S({bubbles:!1,cancelable:!1,detail:void 0},o);if(typeof window.CustomEvent=="function")return new CustomEvent(e,r);var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),s},ut=function n(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=window.Promise||function(a){function i(){}a(i,i)},s=function(a){var i=a.target;if(i===R){E();return}b.indexOf(i)!==-1&&re({target:i})},g=function(){if(!(M||!t.original)){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ie-a)>l.scrollOffset&&setTimeout(E,150)}},_=function(a){var i=a.key||a.keyCode;(i==="Escape"||i==="Esc"||i===27)&&E()},c=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a;if(a.background&&(R.style.background=a.background),a.container&&a.container instanceof Object&&(i.container=S({},l.container,a.container)),a.template){var m=Y(a.template)?a.template:document.querySelector(a.template);i.template=m}return l=S({},l,i),b.forEach(function(u){u.dispatchEvent($("medium-zoom:update",{detail:{zoom:p}}))}),p},I=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(S({},l,a))},C=function(){for(var a=arguments.length,i=Array(a),m=0;m<a;m++)i[m]=arguments[m];var u=i.reduce(function(d,h){return[].concat(d,le(h))},[]);return u.filter(function(d){return b.indexOf(d)===-1}).forEach(function(d){b.push(d),d.classList.add("medium-zoom-image")}),F.forEach(function(d){var h=d.type,w=d.listener,O=d.options;u.forEach(function(k){k.addEventListener(h,w,O)})}),p},B=function(){for(var a=arguments.length,i=Array(a),m=0;m<a;m++)i[m]=arguments[m];t.zoomed&&E();var u=i.length>0?i.reduce(function(d,h){return[].concat(d,le(h))},[]):b;return u.forEach(function(d){d.classList.remove("medium-zoom-image"),d.dispatchEvent($("medium-zoom:detach",{detail:{zoom:p}}))}),b=b.filter(function(d){return u.indexOf(d)===-1}),p},ye=function(a,i){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(u){u.addEventListener("medium-zoom:"+a,i,m)}),F.push({type:"medium-zoom:"+a,listener:i,options:m}),p},_e=function(a,i){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(u){u.removeEventListener("medium-zoom:"+a,i,m)}),F=F.filter(function(u){return!(u.type==="medium-zoom:"+a&&u.listener.toString()===i.toString())}),p},ae=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.target,m=function(){var d={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},h=void 0,w=void 0;if(l.container)if(l.container instanceof Object)d=S({},d,l.container),h=d.width-d.left-d.right-l.margin*2,w=d.height-d.top-d.bottom-l.margin*2;else{var O=Y(l.container)?l.container:document.querySelector(l.container),k=O.getBoundingClientRect(),J=k.width,Ee=k.height,Le=k.left,Ce=k.top;d=S({},d,{width:J,height:Ee,left:Le,top:Ce})}h=h||d.width-l.margin*2,w=w||d.height-l.margin*2;var P=t.zoomedHd||t.original,ke=ce(P)?h:P.naturalWidth||h,He=ce(P)?w:P.naturalHeight||w,W=P.getBoundingClientRect(),Se=W.top,Ae=W.left,Q=W.width,ee=W.height,Te=Math.min(Math.max(Q,ke),h)/Q,xe=Math.min(Math.max(ee,He),w)/ee,te=Math.min(Te,xe),Me=(-Ae+(h-Q)/2+l.margin+d.left)/te,Oe=(-Se+(w-ee)/2+l.margin+d.top)/te,se="scale("+te+") translate3d("+Me+"px, "+Oe+"px, 0)";t.zoomed.style.transform=se,t.zoomedHd&&(t.zoomedHd.style.transform=se)};return new r(function(u){if(i&&b.indexOf(i)===-1){u(p);return}var d=function J(){M=!1,t.zoomed.removeEventListener("transitionend",J),t.original.dispatchEvent($("medium-zoom:opened",{detail:{zoom:p}})),u(p)};if(t.zoomed){u(p);return}if(i)t.original=i;else if(b.length>0){var h=b;t.original=h[0]}else{u(p);return}if(t.original.dispatchEvent($("medium-zoom:open",{detail:{zoom:p}})),ie=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,M=!0,t.zoomed=mt(t.original),document.body.appendChild(R),l.template){var w=Y(l.template)?l.template:document.querySelector(l.template);t.template=document.createElement("div"),t.template.appendChild(w.content.cloneNode(!0)),document.body.appendChild(t.template)}if(t.original.parentElement&&t.original.parentElement.tagName==="PICTURE"&&t.original.currentSrc&&(t.zoomed.src=t.original.currentSrc),document.body.appendChild(t.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),t.original.classList.add("medium-zoom-image--hidden"),t.zoomed.classList.add("medium-zoom-image--opened"),t.zoomed.addEventListener("click",E),t.zoomed.addEventListener("transitionend",d),t.original.getAttribute("data-zoom-src")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("srcset"),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading"),t.zoomedHd.src=t.zoomed.getAttribute("data-zoom-src"),t.zoomedHd.onerror=function(){clearInterval(O),console.warn("Unable to reach the zoom image target "+t.zoomedHd.src),t.zoomedHd=null,m()};var O=setInterval(function(){t.zoomedHd.complete&&(clearInterval(O),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",E),document.body.appendChild(t.zoomedHd),m())},10)}else if(t.original.hasAttribute("srcset")){t.zoomedHd=t.zoomed.cloneNode(),t.zoomedHd.removeAttribute("sizes"),t.zoomedHd.removeAttribute("loading");var k=t.zoomedHd.addEventListener("load",function(){t.zoomedHd.removeEventListener("load",k),t.zoomedHd.classList.add("medium-zoom-image--opened"),t.zoomedHd.addEventListener("click",E),document.body.appendChild(t.zoomedHd),m()})}else m()})},E=function(){return new r(function(a){if(M||!t.original){a(p);return}var i=function m(){t.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(t.zoomed),t.zoomedHd&&document.body.removeChild(t.zoomedHd),document.body.removeChild(R),t.zoomed.classList.remove("medium-zoom-image--opened"),t.template&&document.body.removeChild(t.template),M=!1,t.zoomed.removeEventListener("transitionend",m),t.original.dispatchEvent($("medium-zoom:closed",{detail:{zoom:p}})),t.original=null,t.zoomed=null,t.zoomedHd=null,t.template=null,a(p)};M=!0,document.body.classList.remove("medium-zoom--opened"),t.zoomed.style.transform="",t.zoomedHd&&(t.zoomedHd.style.transform=""),t.template&&(t.template.style.transition="opacity 150ms",t.template.style.opacity=0),t.original.dispatchEvent($("medium-zoom:close",{detail:{zoom:p}})),t.zoomed.addEventListener("transitionend",i)})},re=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.target;return t.original?E():ae({target:i})},be=function(){return l},ze=function(){return b},we=function(){return t.original},b=[],F=[],M=!1,ie=0,l=o,t={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?l=e:(e||typeof e=="string")&&C(e),l=S({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},l);var R=lt(l.background);document.addEventListener("click",s),document.addEventListener("keyup",_),document.addEventListener("scroll",g),window.addEventListener("resize",E);var p={open:ae,close:E,toggle:re,update:c,clone:I,attach:C,detach:B,on:ye,off:_e,getOptions:be,getImages:ze,getZoomedImage:we};return p};function pt(n,e){e===void 0&&(e={});var o=e.insertAt;if(!(!n||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",o==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var ft=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";pt(ft);const gt=ut,vt=":not(a) > img:not(.image-src, .visitor, .vp-sponsor-grid-image)",ht=Symbol("medium-zoom"),yt=(n,e)=>{const o=gt();o.refresh=(r=vt)=>{o.detach(),o.attach(r)},n.provide(ht,o),me(()=>e.route.path,()=>ue(()=>o.refresh()))},_t={key:0,class:"visitor",src:"https://visitor-badge.laobi.icu/badge?page_id=maomao1996.notes",onerror:"this.style.display='none'"},bt=x({__name:"MNavVisitor",setup(n){const e=pe("DEV");return(o,r)=>L(e)?z("",!0):(f(),y("img",_t))}});const zt=X(bt,[["__scopeId","data-v-89740a75"]]),wt={key:0,class:"m-doc-footer"},Et={class:"m-doc-footer-message"},Lt=["src"],Ct={key:1},kt={key:0,class:"m-doc-footer-copyright"},Ht=x({__name:"MDocFooter",setup(n){const e=pe("DEV"),{theme:o}=G(),r=$e(),{hasSidebar:s}=it(),g=A(()=>r.path.replace("/mm-notes","")),_=A(()=>{const{footer:c={}}=o.value;return!e||c.message||c.copyright});return(c,I)=>{var C,B;return _.value?Ne((f(),y("div",wt,[T("div",Et,[L(e)?z("",!0):(f(),y("img",{key:0,class:"visitor",src:`https://visitor-badge.laobi.icu/badge?page_id=maomao1996.notes.${g.value}`,title:"当前页面累计访问数",onerror:"this.style.display='none'"},null,8,Lt)),(C=L(o).footer)!=null&&C.message?(f(),y("p",Ct,j(L(o).footer.message),1)):z("",!0)]),(B=L(o).footer)!=null&&B.copyright?(f(),y("p",kt,j(L(o).footer.copyright),1)):z("",!0)],512)),[[Ie,L(s)]]):z("",!0)}}});const St=X(Ht,[["__scopeId","data-v-8c7e8b8b"]]),At={class:"m-sponsor-title"},Tt=x({__name:"MAsideSponsors",setup(n){const e=[{items:[{img:oe("/sponsor/wechat-color.webp")}]},{items:[{img:oe("/sponsor/alipay-color.webp")}]}];return(o,r)=>(f(),y(q,null,[T("p",At,[U(" 鼓励作者：欢迎 "),D(st,{href:"https://github.com/maomao1996/mm-notes","no-icon":""},{default:V(()=>[U("star")]),_:1}),U(" 或打赏犒劳 ")]),D(L(dt),{data:e})],64))}});const xt=x({__name:"MLayout",setup(n){const{Layout:e}=ge,{isDark:o}=G(),r=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;return Pe("toggle-appearance",async({clientX:s,clientY:g})=>{if(!r()){o.value=!o.value;return}const _=[`circle(0px at ${s}px ${g}px)`,`circle(${Math.hypot(Math.max(s,innerWidth-s),Math.max(g,innerHeight-g))}px at ${s}px ${g}px)`];await document.startViewTransition(async()=>{o.value=!o.value,await ue()}).ready,document.documentElement.animate({clipPath:o.value?_.reverse():_},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${o.value?"old":"new"}(root)`})}),(s,g)=>(f(),K(L(e),De(Ve(s.$attrs)),{"nav-bar-title-after":V(()=>[D(zt)]),"doc-after":V(()=>[D(St)]),"aside-bottom":V(()=>[D(Tt)]),_:1},16))}}),Mt=/[\u0000-\u001f]/g,Ot=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'“”‘’<>,.?/]+/g,$t=/[\u0300-\u036F]/g,ve=n=>n.normalize("NFKD").replace($t,"").replace(Mt,"").replace(Ot,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase(),Nt=["href"],It={class:"box-header"},Pt=["innerHTML"],Dt={key:1,class:"icon"},Vt=["src","alt"],jt=["id"],Bt={key:1,class:"desc"},Ft=x({__name:"MNavLink",props:{noIcon:{},icon:{},badge:{},title:{},desc:{},link:{}},emits:["nav-click"],setup(n,{emit:e}){const o=n,r=A(()=>o.title?ve(o.title):""),s=A(()=>typeof o.icon=="object"?o.icon.svg:""),g=A(()=>typeof o.badge=="string"?{text:o.badge,type:"info"}:o.badge),_=()=>e("nav-click",o);return(c,I)=>{const C=je("Badge");return c.link?(f(),y("a",{key:0,class:"m-nav-link",href:c.link,target:"_blank",rel:"noreferrer",onClick:_},[T("article",{class:de(["box",{"has-badge":g.value}])},[T("div",It,[c.noIcon?z("",!0):(f(),y(q,{key:0},[s.value?(f(),y("div",{key:0,class:"icon",innerHTML:s.value},null,8,Pt)):c.icon&&typeof c.icon=="string"?(f(),y("div",Dt,[T("img",{src:L(oe)(c.icon),alt:c.title,loading:"lazy",onerror:"this.parentElement.style.display='none'"},null,8,Vt)])):z("",!0)],64)),c.title?(f(),y("h5",{key:1,id:r.value,class:de(["title",{"no-icon":c.noIcon}])},j(c.title),11,jt)):z("",!0)]),g.value?(f(),K(C,{key:0,class:"badge",type:g.value.type,text:g.value.text},null,8,["type","text"])):z("",!0),c.desc?(f(),y("p",Bt,j(c.desc),1)):z("",!0)],2)],8,Nt)):z("",!0)}}});const Rt=X(Ft,[["__scopeId","data-v-7dfe279b"]]),Wt=["href"],Zt={class:"m-nav-links"},Ut=x({__name:"MNavLinks",props:{tag:{},title:{},noIcon:{type:Boolean},items:{}},setup(n){const e=n,o=A(()=>e.tag??"h2"),r=A(()=>ve(e.title));return(s,g)=>(f(),y(q,null,[s.title?(f(),K(Be(o.value),{key:0,id:r.value,tabindex:"-1"},{default:V(()=>[U(j(s.title)+" ",1),T("a",{class:"header-anchor",href:`#${r.value}`,"aria-hidden":"true"},null,8,Wt)]),_:1},8,["id"])):z("",!0),T("div",Zt,[(f(!0),y(q,null,Fe(s.items,_=>(f(),K(Rt,Re({key:_.link,noIcon:s.noIcon},{..._,...s.$attrs}),null,16,["noIcon"]))),128))])],64))}});const Yt=X(Ut,[["__scopeId","data-v-d2248535"]]);typeof window<"u"&&(window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(n){for(let e of n)e.unregister()}),"caches"in window&&caches.keys().then(function(n){return Promise.all(n.map(function(e){return caches.delete(e)}))}));let H;const qt={extends:ge,Layout:()=>{var o;const n={},{frontmatter:e}=G();return(o=e.value)!=null&&o.layoutClass&&(n.class=e.value.layoutClass),fe(xt,n)},enhanceApp({app:n,router:e}){yt(n,e),n.component("MNavLinks",Yt),n.provide("DEV",!1),typeof window<"u"&&me(()=>e.route.data.relativePath,()=>Kt(location.pathname==="/"),{immediate:!0})}};if(typeof window<"u"){const n=navigator.userAgent.toLowerCase();n.includes("chrome")?document.documentElement.classList.add("browser-chrome"):n.includes("firefox")?document.documentElement.classList.add("browser-firefox"):n.includes("safari")&&document.documentElement.classList.add("browser-safari")}function Kt(n){if(n){if(H)return;H=document.createElement("style"),H.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(H)}else{if(!H)return;H.remove(),H=void 0}}function he(n){if(n.extends){const e=he(n.extends);return{...e,...n,async enhanceApp(o){e.enhanceApp&&await e.enhanceApp(o),n.enhanceApp&&await n.enhanceApp(o)}}}return n}const N=he(qt),Xt=x({name:"VitePressApp",setup(){const{site:n}=G();return tt(()=>{ot(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),nt(),at(),rt(),N.setup&&N.setup(),()=>fe(N.Layout)}});async function Gt(){const n=Qt(),e=Jt();e.provide(Ze,n);const o=Ue(n.route);return e.provide(Ye,o),e.component("Content",qe),e.component("ClientOnly",Ke),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),N.enhanceApp&&await N.enhanceApp({app:e,router:n,siteData:Xe}),{app:e,router:n,data:o}}function Jt(){return Ge(Xt)}function Qt(){let n=ne,e;return Je(o=>{let r=Qe(o),s=null;return r&&(n&&(e=r),(n||e===r)&&(r=r.replace(/\.js$/,".lean.js")),s=et(()=>import(r),[])),ne&&(n=!1),s},N.NotFound)}ne&&Gt().then(({app:n,router:e,data:o})=>{e.go().then(()=>{We(e.route,o.site),n.mount("#app")})});export{Gt as createApp};
