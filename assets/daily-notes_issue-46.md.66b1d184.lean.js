import{_ as s,v as a,b as n,R as l}from"./chunks/framework.975b469a.js";const b=JSON.parse('{"title":"判断用户为移动端设备的若干种方式","description":"","frontmatter":{},"headers":[],"relativePath":"daily-notes/issue-46.md","filePath":"daily-notes/issue-46.md","lastUpdated":null}'),o={name:"daily-notes/issue-46.md"},p=l(`<h1 id="判断用户为移动端设备的若干种方式" tabindex="-1">判断用户为移动端设备的若干种方式 <a class="header-anchor" href="#判断用户为移动端设备的若干种方式" aria-label="Permalink to &quot;判断用户为移动端设备的若干种方式&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">原文地址</p><p><a href="https://github.com/maomao1996/daily-notes/issues/46" target="_blank" rel="noreferrer">判断用户为移动端设备的若干种方式 | GitHub</a></p></div><h2 id="判断-useragent" tabindex="-1">判断 userAgent <a class="header-anchor" href="#判断-useragent" aria-label="Permalink to &quot;判断 userAgent&quot;">​</a></h2><p><code>userAgent</code> 返回当前浏览器的用户代理字符串，通常用于判断客户端使用的操作系统、浏览器或其他软件信息</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobileAgent</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">userAgent</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">userAgent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toLowerCase</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">iphone</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ipad</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ipod</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ios</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">android</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">windows phone</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">blackberry</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">bb</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">playbook</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">opera mini</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">kindle</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">silk</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">fennec</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">mobile</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">userAgent</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><code>iphone|ipad|ipod</code>: 苹果移动设备</li><li><code>ios</code>: iOS 系统（一些特殊情况）</li><li><code>android</code>: 安卓设备</li><li><code>windows phone</code>: Windows Phone 设备</li><li><code>blackberry|bb|playbook</code>: 黑莓设备及其平板</li><li><code>opera mini</code>: Opera Mini 浏览器，通常用于移动设备</li><li><code>kindle|silk</code>: 亚马逊的 Kindle 和 Silk 浏览器</li><li><code>fennec</code>: Firefox 移动版浏览器</li><li><code>mobile</code>: 一个通用的关键字，通常出现在移动设备的用户代理字符串中</li></ul><p>更全面的正则可参考 <a href="https://github.com/rustdesk/rustdesk/blob/6e5622a97abee1eeb4177b7c0f10359fad159ea7/flutter/web/js/src/globals.js#L11" target="_blank" rel="noreferrer">rustdesk/flutter/web/js/src/globals.js</a>，代码简化如下</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobileAgent</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/(</span><span style="color:#C3E88D;">android</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">bb\\d</span><span style="color:#89DDFF;">+|</span><span style="color:#C3E88D;">meego</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">+</span><span style="color:#C3E88D;">mobile</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">avantgo</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">bada</span><span style="color:#BABED8;">\\/</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">blackberry</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">blazer</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">compal</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">elaine</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">fennec</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">hiptop</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">iemobile</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">ip</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">hone</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">od</span><span style="color:#89DDFF;">)|</span><span style="color:#C3E88D;">ipad</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">iris</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">kindle</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">Silk</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">lge </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">maemo</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">midp</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">mmp</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">netfront</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">opera m</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">ob</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">in</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">i</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">palm</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;"> os</span><span style="color:#89DDFF;">)?|</span><span style="color:#C3E88D;">phone</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">p</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">ixi</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">re</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;">\\/</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">plucker</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">pocket</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">psp</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">series</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">4</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">6</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">symbian</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">treo</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">up</span><span style="color:#BABED8;">\\.</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">browser</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">link</span><span style="color:#89DDFF;">)|</span><span style="color:#C3E88D;">vodafone</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">wap</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">windows </span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">ce</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">phone</span><span style="color:#89DDFF;">)|</span><span style="color:#C3E88D;">xda</span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;">xiino</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">i</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">userAgent</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/userAgent" target="_blank" rel="noreferrer">Navigator：userAgent 属性 | MDN</a></li><li><a href="https://github.com/rustdesk/rustdesk" target="_blank" rel="noreferrer">rustdesk | GitHub</a></li><li><a href="https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser/11381730" target="_blank" rel="noreferrer">Detecting a mobile browser | Stack Overflow</a></li></ul><h3 id="使用-ismobilejs-库" tabindex="-1">使用 <code>ismobilejs</code> 库 <a class="header-anchor" href="#使用-ismobilejs-库" aria-label="Permalink to &quot;使用 \`ismobilejs\` 库&quot;">​</a></h3><p><code>ismobilejs</code> 库对设备判断进行细分:</p><ul><li>apple</li><li>android</li><li>amazon</li><li>windows phone</li><li>other</li></ul><p>同时每个设备下还区分了</p><ul><li>phone</li><li>tablet</li><li>device</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> isMobile </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ismobilejs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> userAgent </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">navigator</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">apple)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">android)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">amazon)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">windows)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">isMobile</span><span style="color:#BABED8;">(userAgent)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">other)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><a href="https://github.com/kaimallea/isMobile" target="_blank" rel="noreferrer">isMobile | GitHub</a></li></ul><h2 id="判断视口宽度" tabindex="-1">判断视口宽度 <a class="header-anchor" href="#判断视口宽度" aria-label="Permalink to &quot;判断视口宽度&quot;">​</a></h2><p>一般来说设备的视口宽度小于 768px 即为移动端设备</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobileWidth</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">innerWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">768</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">documentElement</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">clientWidth</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">768</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>window.innerWidth</code> 返回视口宽度（包含滚动条）</li><li><code>document.documentElement.clientWidth</code> 返回根元素 <code>&lt;html&gt;</code> 的视口宽度（不包含滚动条）</li></ul><h2 id="判断-css-媒体查询结果" tabindex="-1">判断 CSS 媒体查询结果 <a class="header-anchor" href="#判断-css-媒体查询结果" aria-label="Permalink to &quot;判断 CSS 媒体查询结果&quot;">​</a></h2><blockquote><p>使用 <code>max-width</code></p></blockquote><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobileWidth</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(max-width: 768px)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>使用 <code>any-pointer:coarse</code></p></blockquote><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobile</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(pointer: coarse)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// OR</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobile</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(any-pointer: coarse)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>pointer</code>: 检测主要输入设备是否拥有任意订单装置（如鼠标）</li><li><code>any-pointer</code>: 检测任意输入设备是否拥有任意订单装置</li></ul><blockquote><p>使用 <code>hover: none</code></p></blockquote><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobile</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(hover: none)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// OR</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobile</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(any-hover: none)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>hover</code>: 检测主要输入设备是否可以悬停在元素之上来应用样式（即支持 <code>hover</code>）</li><li><code>any-hover</code>: 检测任意输入设备是否可以悬停在元素之上来应用样式</li></ul><blockquote><p>集合以上判断</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isMobile</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">matchMedia</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">(max-width: 767px), (any-pointer: coarse), (any-hover: none)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">matches</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media" target="_blank" rel="noreferrer">@media | MDN</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/pointer" target="_blank" rel="noreferrer">pointer | MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/any-pointer" target="_blank" rel="noreferrer">any-pointer | MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/hover" target="_blank" rel="noreferrer">hover | MDN</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/any-hover" target="_blank" rel="noreferrer">any-hover | MDN</a></li></ul><h2 id="判断是否支持触摸事件" tabindex="-1">判断是否支持触摸事件 <a class="header-anchor" href="#判断是否支持触摸事件" aria-label="Permalink to &quot;判断是否支持触摸事件&quot;">​</a></h2><p><code>maxTouchPoints</code> 返回当前设备支持的最大同时触摸接触点数</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isTouchDevice</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ontouchstart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">window</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">maxTouchPoints</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Navigator/maxTouchPoints" target="_blank" rel="noreferrer">Navigator：maxTouchPoints | MDN</a></li></ul>`,36),e=[p];function r(t,c,i,D,y,F){return a(),n("div",null,e)}const u=s(o,[["render",r]]);export{b as __pageData,u as default};
