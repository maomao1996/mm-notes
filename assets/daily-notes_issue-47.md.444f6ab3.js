import{_ as s,v as n,b as a,R as l}from"./chunks/framework.975b469a.js";const F=JSON.parse('{"title":"åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions","description":"","frontmatter":{},"headers":[],"relativePath":"daily-notes/issue-47.md","filePath":"daily-notes/issue-47.md","lastUpdated":null}'),p={name:"daily-notes/issue-47.md"},e=l(`<h1 id="åœ¨-github-actions-ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„-actions" tabindex="-1">åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions <a class="header-anchor" href="#åœ¨-github-actions-ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„-actions" aria-label="Permalink to &quot;åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions&quot;">â€‹</a></h1><div class="tip custom-block"><p class="custom-block-title">åŸæ–‡åœ°å€</p><p><a href="https://github.com/maomao1996/daily-notes/issues/47" target="_blank" rel="noreferrer">åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions | GitHub</a></p></div><p>ä¸ºäº†å·æ‡’ï¼Œåœ¨å‘å¸ƒæ—¥å¸¸ç¬”è®°æ—¶èƒ½å¤Ÿè‡ªåŠ¨è§¦å‘åšå®¢çš„æ„å»ºå’Œéƒ¨ç½²</p><blockquote><p>ä»¥èŒ‚èŒ‚çš„ä¸¤ä¸ªç¬”è®°ä»“åº“ä¸¾ ğŸŒ°</p></blockquote><ul><li><strong>æºä»“åº“</strong>: æ—¥å¸¸ç¬”è®°ä»“åº“ <a href="https://github.com/maomao1996/daily-notes" target="_blank" rel="noreferrer">https://github.com/maomao1996/daily-notes</a></li><li><strong>ç›®æ ‡ä»“åº“</strong>: åšå®¢ä»“åº“ <a href="https://github.com/maomao1996/mm-notes" target="_blank" rel="noreferrer">https://github.com/maomao1996/mm-notes</a></li></ul><h2 id="ç”Ÿæˆå¹¶æ·»åŠ -github-ä¸ªäººè®¿é—®ä»¤ç‰Œ" tabindex="-1">ç”Ÿæˆå¹¶æ·»åŠ  GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œ <a class="header-anchor" href="#ç”Ÿæˆå¹¶æ·»åŠ -github-ä¸ªäººè®¿é—®ä»¤ç‰Œ" aria-label="Permalink to &quot;ç”Ÿæˆå¹¶æ·»åŠ  GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œ&quot;">â€‹</a></h2><ol><li>è¯·å‚è€ƒ GitHub å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.github.com/zh/enterprise-server@3.9/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#%E5%88%9B%E5%BB%BA-personal-access-token" target="_blank" rel="noreferrer">åˆ›å»º personal access token</a>ï¼ˆ<strong>ç¡®ä¿é€‰ä¸­äº† <code>workflows</code> æƒé™</strong>ï¼‰</li><li>å°†ç”Ÿæˆçš„ GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œæ·»åŠ åˆ°æºä»“åº“çš„ Secrets ä¸­</li></ol><p>è¯¦ç»†æ•™ç¨‹è¯·æŸ¥çœ‹ <a href="https://notes.fe-mm.com/workflow/git/#%E9%85%8D%E7%BD%AE-secrets" target="_blank" rel="noreferrer">é…ç½® Secrets | èŒ‚èŒ‚ç‰©è¯­</a></p><h2 id="åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ" tabindex="-1">åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ <a class="header-anchor" href="#åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ" aria-label="Permalink to &quot;åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ&quot;">â€‹</a></h2><p>åœ¨æºä»“åº“ä¸­åˆ›å»ºæˆ–ä¿®æ”¹å·²æœ‰çš„ GitHub Actions å·¥ä½œæµæ–‡ä»¶ï¼Œä¾‹å¦‚ <code>.github/workflows/trigger-notes-workflow.yml</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Trigger Notes Actions</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9CAC;">on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">workflow_dispatch</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># æ‰‹åŠ¨è§¦å‘</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">issues</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">types</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#C3E88D;">opened</span><span style="color:#89DDFF;">]</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;"># åˆ›å»º issue æ—¶è§¦å‘</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">jobs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">trigger</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">runs-on</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ubuntu-latest</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">steps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Repository Dispatch</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">peter-evans/repository-dispatch@v3</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">with</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#F07178;">token</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">\${{ secrets.ACCESS_TOKEN }}</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#F07178;">repository</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">maomao1996/mm-notes</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#F07178;">event-type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build-and-deploy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>è¿™é‡Œä½¿ç”¨ <a href="https://github.com/peter-evans/repository-dispatch" target="_blank" rel="noreferrer">repository-dispatch</a> ç›´æ¥è§¦å‘ç›®æ ‡ä»“åº“çš„ Actions</p><h2 id="åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ" tabindex="-1">åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ <a class="header-anchor" href="#åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ" aria-label="Permalink to &quot;åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ&quot;">â€‹</a></h2><p>åœ¨ç›®æ ‡ä»“åº“ä¸­åˆ›å»ºæˆ–ä¿®æ”¹å·²æœ‰çš„ GitHub Actions å·¥ä½œæµæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">GitHub Actions Build and Deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9CAC;">on</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">workflow_dispatch</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">repository_dispatch</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">types</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#C3E88D;">build-and-deploy</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">jobs</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">build-and-deploy</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">runs-on</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ubuntu-latest</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">steps</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Checkout</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">uses</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">actions/checkout@v3</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;"># æ·»åŠ å…¶ä»–æ­¥éª¤ï¼Œå¦‚å®‰è£…ä¾èµ–ã€æ„å»ºç­‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li><code>on: repository_dispatch: types: [build-and-deploy]</code>ï¼šç›‘å¬æ¥è‡ª <code>repository_dispatch</code> çš„è‡ªå®šä¹‰äº‹ä»¶ <code>build-and-deploy</code></li></ul><hr><p>æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤é…ç½®åï¼Œæ¯å½“æºä»“åº“æ»¡è¶³è§¦å‘æ¡ä»¶æ—¶ï¼Œç›®æ ‡ä»“åº“çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹å°†è‡ªåŠ¨å¯åŠ¨</p>`,18),o=[e];function t(r,c,i,y,b,D){return n(),a("div",null,o)}const d=s(p,[["render",t]]);export{F as __pageData,d as default};
