import{_ as a,h as i,a9 as n,o as e}from"./chunks/framework.iNNLCK4S.js";const d=JSON.parse(`{"title":"青龙定时任务管理面板","description":"","frontmatter":{"head":[["script",{"charset":"UTF-8","id":"LA_COLLECT","src":"//sdk.51.la/js-sdk-pro.min.js"}],["script",{},"typeof LA !== 'undefined' && LA.init({\\"id\\":\\"3LNfUkScYzEz6k4D\\",\\"ck\\":\\"3LNfUkScYzEz6k4D\\",\\"hashMode\\":true})"]]},"headers":[],"relativePath":"daily-notes/issue-34.md","filePath":"daily-notes/issue-34.md","lastUpdated":null}`),l={name:"daily-notes/issue-34.md"};function t(p,s,r,h,k,o){return e(),i("div",null,s[0]||(s[0]=[n(`<h1 id="青龙定时任务管理面板" tabindex="-1">青龙定时任务管理面板 <a class="header-anchor" href="#青龙定时任务管理面板" aria-label="Permalink to &quot;青龙定时任务管理面板&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">原文地址</p><p><a href="https://github.com/maomao1996/daily-notes/issues/34" target="_blank" rel="noreferrer">搭建青龙定时任务管理面板 | GitHub</a></p></div><p><a href="https://github.com/whyour/qinglong" target="_blank" rel="noreferrer">青龙（qinglong）</a>是一款支持 <code>python3</code>、<code>javaScript</code>、<code>typescript</code>、<code>shell</code> 的定时任务管理面板</p><h2 id="安装和部署" tabindex="-1">安装和部署 <a class="header-anchor" href="#安装和部署" aria-label="Permalink to &quot;安装和部署&quot;">​</a></h2><h3 id="安装-docker-或者-docker-compose" tabindex="-1">安装 docker 或者 docker-compose <a class="header-anchor" href="#安装-docker-或者-docker-compose" aria-label="Permalink to &quot;安装 docker 或者 docker-compose&quot;">​</a></h3><ul><li><a href="https://www.runoob.com/docker/macos-docker-install.html" target="_blank" rel="noreferrer">Docker 安装</a></li><li><code>docker-compose</code> 安装</li></ul><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://get.daocloud.io/docker/compose/releases/download/v2.14.2/docker-compose-\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><a href="https://github.com/docker/compose" target="_blank" rel="noreferrer">docker-compose</a></p><h3 id="部署青龙" tabindex="-1">部署青龙 <a class="header-anchor" href="#部署青龙" aria-label="Permalink to &quot;部署青龙&quot;">​</a></h3><h4 id="docker-部署" tabindex="-1">docker 部署 <a class="header-anchor" href="#docker-部署" aria-label="Permalink to &quot;docker 部署&quot;">​</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -dit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $PWD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/ql/data:/ql/data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5700:5700</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qinglong</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qinglong</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unless-stopped</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  whyour/qinglong:latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="docker-compose-部署" tabindex="-1">docker-compose 部署 <a class="header-anchor" href="#docker-compose-部署" aria-label="Permalink to &quot;docker-compose 部署&quot;">​</a></h4><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qinglong</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载 docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/whyour/qinglong/develop/docker-compose.yml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>最后浏览器访问 <code>http://127.0.0.1:5700</code> 或 <code>http://{ip}:5700</code> 即可使用</p><p><a href="https://github.com/whyour/qinglong#%E9%83%A8%E7%BD%B2" target="_blank" rel="noreferrer">qinglong —— 部署</a></p><h3 id="青龙内置命令" tabindex="-1">青龙内置命令 <a class="header-anchor" href="#青龙内置命令" aria-label="Permalink to &quot;青龙内置命令&quot;">​</a></h3><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 更新并重启青龙</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行自定义脚本 extra.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extra</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加单个脚本文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> raw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file_ur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 添加单个仓库的指定脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">repo_ur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">whitelis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">blacklis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dependenc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">branc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">extension</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除旧日志</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rmlog</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">day</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动tg-bot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bot</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 检测青龙环境并修复</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重置登录错误次数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resetlet</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 禁用两步登录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resettfa</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="常用的定时任务库" tabindex="-1">常用的定时任务库 <a class="header-anchor" href="#常用的定时任务库" aria-label="Permalink to &quot;常用的定时任务库&quot;">​</a></h2><h3 id="京东薅羊毛" tabindex="-1">京东薅羊毛 <a class="header-anchor" href="#京东薅羊毛" aria-label="Permalink to &quot;京东薅羊毛&quot;">​</a></h3><blockquote><p>集合库不用都拉取，拉一个就行，重复脚本太多容易黑号</p></blockquote><h4 id="faker2-faker3" tabindex="-1">faker2 faker3 <a class="header-anchor" href="#faker2-faker3" aria-label="Permalink to &quot;faker2 faker3&quot;">​</a></h4><blockquote><p>京东集合库（推荐）</p></blockquote><p>打开订阅管理 - 新建订阅</p><ol><li>名称：<code>ql repo https://git.metauniverse-cn.com/https://github.com/shufflewzc/faker3.git &quot;jd_|jx_|gua_|jddj_|jdCookie&quot; &quot;activity|backUp&quot; &quot;^jd[^_]|USER|function|utils|sendNotify|ZooFaker_Necklace.js|JDJRValidator_|sign_graphics_validate|ql|JDSignValidator|magic|depend|h5sts&quot; &quot;main&quot;</code></li><li>定时规则：<code>5 0 * * *</code></li></ol><ul><li><a href="https://github.com/shufflewzc/faker3" target="_blank" rel="noreferrer">faker3</a> 纯净版</li><li><a href="https://github.com/shufflewzc/faker2" target="_blank" rel="noreferrer">faker2</a> 助力池版</li></ul><blockquote><p>faker2 和 faker3 选一个拉就行</p></blockquote><h4 id="kr" tabindex="-1">KR <a class="header-anchor" href="#kr" aria-label="Permalink to &quot;KR&quot;">​</a></h4><blockquote><p>京东集合库</p></blockquote><p>打开订阅管理 - 新建订阅</p><ol><li>名称：<code>ql repo https://github.com/KingRan/KR.git &quot;jd_|jx_|jdCookie&quot; &quot;activity|backUp&quot; &quot;^jd[^_]|USER|utils|function|sign|ql|JDJR&quot;</code></li><li>定时规则：<code>30 * * * *</code></li><li>文件后缀：<code>js ts py</code></li><li>代理：<code>https://ghproxy.com/</code>（可选）</li></ol><p><a href="https://github.com/KingRan/KR" target="_blank" rel="noreferrer">KR</a></p><h4 id="获取京东-cookie" tabindex="-1">获取京东 cookie <a class="header-anchor" href="#获取京东-cookie" aria-label="Permalink to &quot;获取京东 cookie&quot;">​</a></h4><ol><li>下载 <a href="https://www.alookweb.com" target="_blank" rel="noreferrer">alook</a> 浏览器</li><li>打开京东触屏版 <a href="https://home.m.jd.com" target="_blank" rel="noreferrer">https://home.m.jd.com</a></li><li>通过手机验证码登录</li><li>点击 工具箱 — 开发者工具 — Cookies</li></ol><h4 id="qlscript2-通知库" tabindex="-1">QLScript2 通知库 <a class="header-anchor" href="#qlscript2-通知库" aria-label="Permalink to &quot;QLScript2 通知库&quot;">​</a></h4><blockquote><p>上面的两个集合库均已内置，可以不用拉取</p></blockquote><p>打开订阅管理 - 新建订阅</p><ol><li>名称：<code>ql repo https://github.com/ccwav/QLScript2.git &quot;jd_&quot; &quot;NoUsed&quot; &quot;ql|sendNotify|utils|USER_AGENTS|jdCookie|JS_USER_AGENTS&quot;</code></li><li>定时规则：<code>0</code></li><li>代理：<code>https://ghproxy.com/</code>（可选）</li></ol><h5 id="使用教程" tabindex="-1">使用教程 <a class="header-anchor" href="#使用教程" aria-label="Permalink to &quot;使用教程&quot;">​</a></h5><ul><li><a href="https://www.kejiwanjia.com/jiaocheng/27909.html" target="_blank" rel="noreferrer">WxPusher 实现一对一推送</a></li><li><a href="https://www.kejiwanjia.com/jiaocheng/61708.html" target="_blank" rel="noreferrer">ccwav: sendNotify.js 和 jd_bean_change.js 的一些答疑</a></li></ul><h3 id="其他库" tabindex="-1">其他库 <a class="header-anchor" href="#其他库" aria-label="Permalink to &quot;其他库&quot;">​</a></h3><ul><li><a href="https://github.com/RayWangQvQ/BiliBiliToolPro" target="_blank" rel="noreferrer">BiliBiliToolPro</a> B 站（bilibili）自动任务工具</li><li><a href="https://github.com/OreosLab/checkinpanel" target="_blank" rel="noreferrer">checkinpanel</a> 签到盒</li></ul><h2 id="其他说明" tabindex="-1">其他说明 <a class="header-anchor" href="#其他说明" aria-label="Permalink to &quot;其他说明&quot;">​</a></h2><ul><li><strong>加密脚本可能存在安全隐患，使用需谨慎</strong></li><li><strong>加密脚本可能存在安全隐患，使用需谨慎</strong></li><li><strong>加密脚本可能存在安全隐患，使用需谨慎</strong></li></ul>`,43)]))}const g=a(l,[["render",t]]);export{d as __pageData,g as default};
