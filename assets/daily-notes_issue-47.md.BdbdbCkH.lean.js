import{_ as i,h as a,a9 as n,o as e}from"./chunks/framework.iNNLCK4S.js";const c=JSON.parse(`{"title":"åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions","description":"","frontmatter":{"head":[["script",{"charset":"UTF-8","id":"LA_COLLECT","src":"//sdk.51.la/js-sdk-pro.min.js"}],["script",{},"typeof LA !== 'undefined' && LA.init({\\"id\\":\\"3LNfUkScYzEz6k4D\\",\\"ck\\":\\"3LNfUkScYzEz6k4D\\",\\"hashMode\\":true})"]]},"headers":[],"relativePath":"daily-notes/issue-47.md","filePath":"daily-notes/issue-47.md","lastUpdated":null}`),l={name:"daily-notes/issue-47.md"};function t(p,s,h,r,k,o){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="åœ¨-github-actions-ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„-actions" tabindex="-1">åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions <a class="header-anchor" href="#åœ¨-github-actions-ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„-actions" aria-label="Permalink to &quot;åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions&quot;">â€‹</a></h1><div class="tip custom-block"><p class="custom-block-title">åŸæ–‡åœ°å€</p><p><a href="https://github.com/maomao1996/daily-notes/issues/47" target="_blank" rel="noreferrer">åœ¨ GitHub Actions ä¸­è§¦å‘å…¶ä»–ä»“åº“çš„ Actions | GitHub</a></p></div><p>ä¸ºäº†å·æ‡’ï¼Œåœ¨å‘å¸ƒæ—¥å¸¸ç¬”è®°æ—¶èƒ½å¤Ÿè‡ªåŠ¨è§¦å‘åšå®¢çš„æ„å»ºå’Œéƒ¨ç½²</p><blockquote><p>ä»¥èŒ‚èŒ‚çš„ä¸¤ä¸ªç¬”è®°ä»“åº“ä¸¾ ğŸŒ°</p></blockquote><ul><li><strong>æºä»“åº“</strong>: æ—¥å¸¸ç¬”è®°ä»“åº“ <a href="https://github.com/maomao1996/daily-notes" target="_blank" rel="noreferrer">https://github.com/maomao1996/daily-notes</a></li><li><strong>ç›®æ ‡ä»“åº“</strong>: åšå®¢ä»“åº“ <a href="https://github.com/maomao1996/mm-notes" target="_blank" rel="noreferrer">https://github.com/maomao1996/mm-notes</a></li></ul><h2 id="ç”Ÿæˆå¹¶æ·»åŠ -github-ä¸ªäººè®¿é—®ä»¤ç‰Œ" tabindex="-1">ç”Ÿæˆå¹¶æ·»åŠ  GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œ <a class="header-anchor" href="#ç”Ÿæˆå¹¶æ·»åŠ -github-ä¸ªäººè®¿é—®ä»¤ç‰Œ" aria-label="Permalink to &quot;ç”Ÿæˆå¹¶æ·»åŠ  GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œ&quot;">â€‹</a></h2><ol><li>è¯·å‚è€ƒ GitHub å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.github.com/zh/enterprise-server@3.9/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#%E5%88%9B%E5%BB%BA-personal-access-token" target="_blank" rel="noreferrer">åˆ›å»º personal access token</a>ï¼ˆ<strong>ç¡®ä¿é€‰ä¸­äº† <code>workflows</code> æƒé™</strong>ï¼‰</li><li>å°†ç”Ÿæˆçš„ GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œæ·»åŠ åˆ°æºä»“åº“çš„ Secrets ä¸­</li></ol><p>è¯¦ç»†æ•™ç¨‹è¯·æŸ¥çœ‹ <a href="https://notes.fe-mm.com/workflow/git/#%E9%85%8D%E7%BD%AE-secrets" target="_blank" rel="noreferrer">é…ç½® Secrets | èŒ‚èŒ‚ç‰©è¯­</a></p><h2 id="åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ" tabindex="-1">åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ <a class="header-anchor" href="#åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ" aria-label="Permalink to &quot;åœ¨æºä»“åº“ä¸­åˆ›å»ºå·¥ä½œæµ&quot;">â€‹</a></h2><p>åœ¨æºä»“åº“ä¸­åˆ›å»ºæˆ–ä¿®æ”¹å·²æœ‰çš„ GitHub Actions å·¥ä½œæµæ–‡ä»¶ï¼Œä¾‹å¦‚ <code>.github/workflows/trigger-notes-workflow.yml</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Trigger Notes Actions</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  workflow_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ‰‹åŠ¨è§¦å‘</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  issues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">opened</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># åˆ›å»º issue æ—¶è§¦å‘</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Repository Dispatch</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">peter-evans/repository-dispatch@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\${{ secrets.ACCESS_TOKEN }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          repository</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">maomao1996/mm-notes</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          event-type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build-and-deploy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>è¿™é‡Œä½¿ç”¨ <a href="https://github.com/peter-evans/repository-dispatch" target="_blank" rel="noreferrer">repository-dispatch</a> ç›´æ¥è§¦å‘ç›®æ ‡ä»“åº“çš„ Actions</p><h2 id="åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ" tabindex="-1">åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ <a class="header-anchor" href="#åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ" aria-label="Permalink to &quot;åœ¨ç›®æ ‡ä»“åº“é…ç½®å“åº”çš„å·¥ä½œæµ&quot;">â€‹</a></h2><p>åœ¨ç›®æ ‡ä»“åº“ä¸­åˆ›å»ºæˆ–ä¿®æ”¹å·²æœ‰çš„ GitHub Actions å·¥ä½œæµæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GitHub Actions Build and Deploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  workflow_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  repository_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build-and-deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build-and-deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # æ·»åŠ å…¶ä»–æ­¥éª¤ï¼Œå¦‚å®‰è£…ä¾èµ–ã€æ„å»ºç­‰</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li><code>on: repository_dispatch: types: [build-and-deploy]</code>ï¼šç›‘å¬æ¥è‡ª <code>repository_dispatch</code> çš„è‡ªå®šä¹‰äº‹ä»¶ <code>build-and-deploy</code></li></ul><hr><p>æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤é…ç½®åï¼Œæ¯å½“æºä»“åº“æ»¡è¶³è§¦å‘æ¡ä»¶æ—¶ï¼Œç›®æ ‡ä»“åº“çš„æ„å»ºå’Œéƒ¨ç½²æµç¨‹å°†è‡ªåŠ¨å¯åŠ¨</p>`,18)]))}const E=i(l,[["render",t]]);export{c as __pageData,E as default};
